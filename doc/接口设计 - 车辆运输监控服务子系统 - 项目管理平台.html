<!DOCTYPE html>
<!-- saved from url=(0092)http://project.yoohoor.com:3000/projects/camel-gps/wiki/%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1 -->
<html lang="zh"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>接口设计 - 车辆运输监控服务子系统 - 项目管理平台</title>
<meta name="description" content="Redmine">
<meta name="keywords" content="issue,bug,tracker">
<meta content="authenticity_token" name="csrf-param">
<meta content="/FBazXz3I8l24XufE8gkFCYKkYZgjOfRJcOjUJHB1ew=" name="csrf-token">
<link rel="shortcut icon" href="http://project.yoohoor.com:3000/favicon.ico?1387788522">
<link href="./接口设计 - 车辆运输监控服务子系统 - 项目管理平台_files/jquery-ui-1.9.2.css" media="all" rel="stylesheet" type="text/css">
<link href="./接口设计 - 车辆运输监控服务子系统 - 项目管理平台_files/application.css" media="all" rel="stylesheet" type="text/css">

<script src="./接口设计 - 车辆运输监控服务子系统 - 项目管理平台_files/jquery-1.8.3-ui-1.9.2-ujs-2.0.3.js" type="text/javascript"></script>
<script src="./接口设计 - 车辆运输监控服务子系统 - 项目管理平台_files/application.js" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('若离开当前页面，则该页面内未保存的内容将丢失。'); });
//]]>
</script>

<link href="./接口设计 - 车辆运输监控服务子系统 - 项目管理平台_files/redmine_agile.css" media="screen" rel="stylesheet" type="text/css"> <script src="./接口设计 - 车辆运输监控服务子系统 - 项目管理平台_files/checklists.js" type="text/javascript"></script><link href="./接口设计 - 车辆运输监控服务子系统 - 项目管理平台_files/checklists.css" media="screen" rel="stylesheet" type="text/css">
<!-- page specific tags -->
  <script src="./接口设计 - 车辆运输监控服务子系统 - 项目管理平台_files/attachments.js" type="text/javascript"></script>
</head>
<body class="project-camel-gps controller-wiki action-show" style="">
<div id="wrapper">
<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="http://project.yoohoor.com:3000/my/account" class="my-account">我的帐号</a></li>
<li><a href="http://project.yoohoor.com:3000/logout" class="logout" data-method="post" rel="nofollow">退出</a></li></ul>    </div>
    <div id="loggedas">登录为 <a href="http://project.yoohoor.com:3000/users/80" class="user active">zb</a></div>
    <ul><li><a href="http://project.yoohoor.com:3000/" class="home">主页</a></li>
<li><a href="http://project.yoohoor.com:3000/my/page" class="my-page">我的工作台</a></li>
<li><a href="http://project.yoohoor.com:3000/projects" class="projects">项目</a></li>
<li><a href="http://www.redmine.org/guide" class="help">帮助</a></li></ul></div>

<div id="header">
    <div id="quick-search">
        <form accept-charset="UTF-8" action="http://project.yoohoor.com:3000/projects/camel-gps/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"></div>
        <input name="wiki_pages" type="hidden" value="1">
        <label for="q">
          <a href="http://project.yoohoor.com:3000/projects/camel-gps/search" accesskey="4">搜索</a>:
        </label>
        <input accesskey="f" class="small" id="q" name="q" size="20" type="text">
</form>        <select id="project_quick_jump_box" name="project_quick_jump_box" onchange="if (this.value != &#39;&#39;) { window.location = this.value; }"><option value="">选择一个项目...</option><option value="" disabled="disabled">---</option><option value="/projects/camel_third_par_int_pro_group?jump=wiki">轨迹跟踪服务</option><option value="/projects/camel_no_car_carrier?jump=wiki">无车承运人项目组</option><option value="/projects/camel_administration?jump=wiki">行政事项专用</option><option selected="selected" value="/projects/camel-gps?jump=wiki">车辆运输监控服务子系统</option><option value="/projects/rhinoceros?jump=wiki">&nbsp;&nbsp;» Rhinoceros</option><option value="/projects/teresa?jump=wiki">&nbsp;&nbsp;» Teresa</option><option value="/projects/torch?jump=wiki">&nbsp;&nbsp;» Torch</option><option value="/projects/manageconsole?jump=wiki">&nbsp;&nbsp;» vmConsole 系统管理控制台</option></select>
    </div>

    <h1>车辆运输监控服务子系统</h1>

    <div id="main-menu">
        <ul><li><a href="http://project.yoohoor.com:3000/projects/camel-gps" class="overview">概述</a></li>
<li><a href="http://project.yoohoor.com:3000/projects/camel-gps/activity" class="activity">活动</a></li>
<li><a href="http://project.yoohoor.com:3000/projects/camel-gps/roadmap" class="roadmap">路线图</a></li>
<li><a href="http://project.yoohoor.com:3000/projects/camel-gps/issues" class="issues">问题</a></li>
<li><a href="http://project.yoohoor.com:3000/projects/camel-gps/issues/new" accesskey="7" class="new-issue">新建问题</a></li>
<li><a href="http://project.yoohoor.com:3000/projects/camel-gps/issues/gantt" class="gantt">甘特图</a></li>
<li><a href="http://project.yoohoor.com:3000/projects/camel-gps/issues/calendar" class="calendar">日历</a></li>
<li><a href="http://project.yoohoor.com:3000/projects/camel-gps/documents" class="documents">文档</a></li>
<li><a href="http://project.yoohoor.com:3000/projects/camel-gps/wiki" class="wiki selected">Wiki</a></li>
<li><a href="http://project.yoohoor.com:3000/projects/camel-gps/files" class="files">文件</a></li>
<li><a href="http://project.yoohoor.com:3000/projects/camel-gps/settings" class="settings">配置</a></li></ul>
    </div>
</div>

<div id="main" class="">
    <div id="sidebar">
          
<h3>Wiki</h3>
<ul>
  <li><a href="http://project.yoohoor.com:3000/projects/camel-gps/wiki">起始页</a></li>
  <li><a href="http://project.yoohoor.com:3000/projects/camel-gps/wiki/index">按标题索引</a></li>
  <li><a href="http://project.yoohoor.com:3000/projects/camel-gps/wiki/date_index">按日期索引</a></li>
</ul>


        
    </div>

    <div id="content">
        
        <div class="contextual">
  <a href="http://project.yoohoor.com:3000/projects/camel-gps/wiki/%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1/edit" accesskey="e" class="icon icon-edit">编辑</a>
  <a href="http://project.yoohoor.com:3000/watchers/watch?object_id=524&amp;object_type=wiki_page" class="wiki_page-524-watcher icon icon-fav-off" data-method="post" data-remote="true" rel="nofollow">跟踪</a>
  
  
  <a href="http://project.yoohoor.com:3000/projects/camel-gps/wiki/%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1/rename" class="icon icon-move">重命名/重定向</a>
  

</div>

<p class="breadcrumb"><a href="http://project.yoohoor.com:3000/projects/camel-gps/wiki/Wiki">Wiki</a> » </p>


<div class="wiki wiki-page">
  <a name="状态码说明"></a>
<h2>状态码说明<a href="http://project.yoohoor.com:3000/projects/camel-gps/wiki/%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1#状态码说明" class="wiki-anchor">¶</a></h2>


<pre>  status：
    0: "成功" or error："抛异常" 

       注：errcode有值则status值为"error" 

 errcode： 'errmsg'
    1001:  '参数不完整或数据内容损坏'
    1234：‘自定义错误’
    1002:  '目标对象不存在'
    1006:  '用户账号或密码错误'
    2001： '系统内部运行故障'
</pre>

	<div class="contextual" id="section-2" title="编辑此区域"><a href="http://project.yoohoor.com:3000/projects/camel-gps/wiki/%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1/edit?section=2"><img alt="Edit" src="./接口设计 - 车辆运输监控服务子系统 - 项目管理平台_files/edit.png"></a></div><a name="1获取转运中心列表"></a>
<h2>1.获取转运中心列表<a href="http://project.yoohoor.com:3000/projects/camel-gps/wiki/%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1#1获取转运中心列表" class="wiki-anchor">¶</a></h2>


	<p><strong>接口编号</strong>：T001<br><strong>接口描述</strong>：获取所有转运中心<br><strong>请求地址</strong>：/teresa/replay/stations/<br><strong>接口描述</strong>：根据名称模糊查询<br><strong>请求地址</strong>：/teresa/replay/stations/char?location_name=上海<br><strong>请求方法</strong>：GET<br><strong>请求参数</strong>：空<br><strong>返回值</strong>：</p>


	<table>
		<tbody><tr>
			<th style="text-align:center;" colspan="2">参数名</th>
			<th>参数含义</th>
			<th>类型</th>
			<th>描述</th>
		</tr>
		<tr>
			<td style="text-align:center;" colspan="2">result</td>
			<td>数据结果集</td>
			<td>object</td>
			<td>array</td>
		</tr>
		<tr>
			<td></td>
			<td>code</td>
			<td>转运中心id</td>
			<td>int</td>
			<td></td>
		</tr>
		<tr>
			<td></td>
			<td>name</td>
			<td>转运中心名字</td>
			<td>String</td>
			<td></td>
		</tr>
		<tr>
			<td></td>
			<td>address</td>
			<td>转运中心地址</td>
			<td>String</td>
			<td></td>
		</tr>
		<tr>
			<td></td>
			<td>lon</td>
			<td>转运中心经度</td>
			<td>folat</td>
			<td></td>
		</tr>
		<tr>
			<td></td>
			<td>lat</td>
			<td>转运中心纬度</td>
			<td>folat</td>
			<td></td>
		</tr>
		<tr>
			<td style="text-align:center;" colspan="2">status</td>
			<td>状态码</td>
			<td>String</td>
			<td>0 or error</td>
		</tr>
		<tr>
			<td style="text-align:center;" colspan="2">errcode</td>
			<td>状态信息</td>
			<td>String</td>
			<td>抛异常则有值否则没值</td>
		</tr>
		<tr>
			<td style="text-align:center;" colspan="2">errmsg</td>
			<td>状态信息</td>
			<td>String</td>
			<td>抛异常则有值否则没值</td>
		</tr>
	</tbody></table>




	<p><strong>返回示例</strong>：<br></p><pre><code class="JSON syntaxhl"><span class="CodeRay">{
    <span class="error">s</span><span class="error">t</span><span class="error">a</span><span class="error">t</span><span class="error">u</span><span class="error">s</span>: <span class="integer">0</span>,
    <span class="error">r</span><span class="error">e</span><span class="error">s</span><span class="error">u</span><span class="error">l</span><span class="error">t</span>: {
        <span class="error">c</span><span class="error">o</span><span class="error">d</span><span class="error">e</span>:      <span class="string"><span class="delimiter">"</span><span class="content">210902</span><span class="delimiter">"</span></span> 
        <span class="error">n</span><span class="error">a</span><span class="error">m</span><span class="error">e</span>:      <span class="string"><span class="delimiter">"</span><span class="content">浦东</span><span class="delimiter">"</span></span> 
        <span class="error">a</span><span class="error">d</span><span class="error">d</span><span class="error">r</span><span class="error">e</span><span class="error">s</span><span class="error">s</span>:  <span class="string"><span class="delimiter">"</span><span class="content">上海市南六公路鹿达路9号</span><span class="delimiter">"</span></span> 
        <span class="error">l</span><span class="error">o</span><span class="error">n</span>:        <span class="float">121.711216</span>
        <span class="error">l</span><span class="error">a</span><span class="error">t</span>:        <span class="float">311.14869</span>
    },
    <span class="error">e</span><span class="error">r</span><span class="error">r</span><span class="error">c</span><span class="error">o</span><span class="error">d</span><span class="error">e</span>:
    <span class="error">e</span><span class="error">r</span><span class="error">r</span><span class="error">m</span><span class="error">s</span>:
}

</span></code></pre><p></p>


	<div class="contextual" id="section-3" title="编辑此区域"><a href="http://project.yoohoor.com:3000/projects/camel-gps/wiki/%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1/edit?section=3"><img alt="Edit" src="./接口设计 - 车辆运输监控服务子系统 - 项目管理平台_files/edit.png"></a></div><a name="2登陆接口"></a>
<h2>2.登陆接口<a href="http://project.yoohoor.com:3000/projects/camel-gps/wiki/%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1#2登陆接口" class="wiki-anchor">¶</a></h2>


<strong>接口编号</strong>：T002<br><strong>接口描述</strong>：登陆车辆全国监控系统<br><strong>请求地址</strong>：/teresa/replay/voucher/<br><strong>请求方法</strong>：GET<br><strong>请求参数</strong>：
	<table>
		<tbody><tr>
			<th>参数名</th>
			<th>参数含义</th>
			<th>类型</th>
			<th>描述</th>
		</tr>
		<tr>
			<td>username</td>
			<td>账号 </td>
			<td>int</td>
			<td>登陆用户名</td>
		</tr>
		<tr>
			<td>password</td>
			<td>密码 </td>
			<td>String</td>
			<td>登陆密码</td>
		</tr>
	</tbody></table>




	<p><strong>返回值</strong>：</p>


	<table>
		<tbody><tr>
			<th style="text-align:center;" colspan="2">参数名</th>
			<th>参数含义</th>
			<th>类型</th>
			<th>描述</th>
		</tr>
		<tr>
			<td style="text-align:center;" colspan="2">result</td>
			<td>数据结果集</td>
			<td>object</td>
			<td>array</td>
		</tr>
		<tr>
			<td></td>
			<td>token</td>
			<td>登陆凭证</td>
			<td>String</td>
			<td>访问rhinoceros的凭证</td>
		</tr>
		<tr>
			<td style="text-align:center;" colspan="2">status</td>
			<td>状态码</td>
			<td>String</td>
			<td>0 or error</td>
		</tr>
		<tr>
			<td style="text-align:center;" colspan="2">errcode</td>
			<td>状态信息</td>
			<td>String</td>
			<td>抛异常则有值否则没值</td>
		</tr>
		<tr>
			<td style="text-align:center;" colspan="2">errmsg</td>
			<td>状态信息</td>
			<td>String</td>
			<td>抛异常则有值否则没值</td>
		</tr>
	</tbody></table>




	<p><strong>返回示例</strong>：<br></p><pre><code class="JSON syntaxhl"><span class="CodeRay">{
    <span class="error">s</span><span class="error">t</span><span class="error">a</span><span class="error">t</span><span class="error">u</span><span class="error">s</span>: <span class="integer">0</span>,
    <span class="error">r</span><span class="error">e</span><span class="error">s</span><span class="error">u</span><span class="error">l</span><span class="error">t</span>:{
       <span class="error">t</span><span class="error">o</span><span class="error">k</span><span class="error">e</span><span class="error">n</span>:<span class="string"><span class="delimiter">"</span><span class="content">asdf12345</span><span class="delimiter">"</span></span> 
    },
    <span class="error">e</span><span class="error">r</span><span class="error">r</span><span class="error">c</span><span class="error">o</span><span class="error">d</span><span class="error">e</span>:
    <span class="error">e</span><span class="error">r</span><span class="error">r</span><span class="error">m</span><span class="error">s</span>:
}
</span></code></pre><p></p>


	<div class="contextual" id="section-4" title="编辑此区域"><a href="http://project.yoohoor.com:3000/projects/camel-gps/wiki/%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1/edit?section=4"><img alt="Edit" src="./接口设计 - 车辆运输监控服务子系统 - 项目管理平台_files/edit.png"></a></div><a name="3获取运单列表"></a>
<h2>3.获取运单列表<a href="http://project.yoohoor.com:3000/projects/camel-gps/wiki/%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1#3获取运单列表" class="wiki-anchor">¶</a></h2>


	<p><strong>接口编号</strong>：T003<br><strong>接口描述</strong>：定时获取在途运单信息列表<br><strong>请求地址</strong>：/teresa/replay/waybill/<br><strong>请求方法</strong>：GET<br><strong>请求参数</strong>：carname 如需查询多台用‘，’分开<br>          <strong>如*:  /teresa/waybill/？carname=湘N123456，湘N123456......<br>*返回值</strong>：</p>


	<table>
		<tbody><tr>
			<th style="text-align:center;" colspan="2">参数名</th>
			<th>参数含义</th>
			<th>类型</th>
			<th>描述</th>
		</tr>
		<tr>
			<td style="text-align:center;" colspan="2">result</td>
			<td>数据结果集</td>
			<td>object</td>
			<td>array</td>
		</tr>
		<tr>
			<td></td>
			<td>carname</td>
			<td>车牌号</td>
			<td>String</td>
			<td></td>
		</tr>
		<tr>
			<td></td>
			<td>name</td>
			<td>承运商名称</td>
			<td>String</td>
			<td></td>
		</tr>
		<tr>
			<td></td>
			<td>stime</td>
			<td>运单开始时间</td>
			<td>String</td>
			<td></td>
		</tr>
		<tr>
			<td></td>
			<td>etime</td>
			<td>运单结束时间</td>
			<td>String</td>
			<td></td>
		</tr>
		<tr>
			<td></td>
			<td>code</td>
			<td>运单号</td>
			<td>String</td>
			<td></td>
		</tr>
		<tr>
			<td></td>
			<td>carid</td>
			<td>车签号</td>
			<td>String</td>
			<td></td>
		</tr>
		<tr>
			<td></td>
			<td>routename</td>
			<td>线路名称</td>
			<td>String</td>
			<td></td>
		</tr>
		<tr>
			<td style="text-align:center;" colspan="2">status</td>
			<td>状态码</td>
			<td>String</td>
			<td>0 or error</td>
		</tr>
		<tr>
			<td style="text-align:center;" colspan="2">errcode</td>
			<td>状态信息</td>
			<td>String</td>
			<td>抛异常则有值否则没值</td>
		</tr>
		<tr>
			<td style="text-align:center;" colspan="2">errmsg</td>
			<td>状态信息</td>
			<td>String</td>
			<td>抛异常则有值否则没值</td>
		</tr>
	</tbody></table>




	<p><strong>返回示例</strong>：<br></p><pre><code class="JSON syntaxhl"><span class="CodeRay">{
    <span class="error">s</span><span class="error">t</span><span class="error">a</span><span class="error">t</span><span class="error">u</span><span class="error">s</span>: <span class="integer">0</span>,
    <span class="error">r</span><span class="error">e</span><span class="error">s</span><span class="error">u</span><span class="error">l</span><span class="error">t</span>: {
        <span class="error">c</span><span class="error">a</span><span class="error">r</span><span class="error">n</span><span class="error">a</span><span class="error">m</span><span class="error">e</span>:    <span class="string"><span class="delimiter">"</span><span class="content">湘N36985</span><span class="delimiter">"</span></span> 
        <span class="error">n</span><span class="error">a</span><span class="error">m</span><span class="error">e</span>:        <span class="string"><span class="delimiter">"</span><span class="content">上海</span><span class="delimiter">"</span></span> 
        <span class="error">s</span><span class="error">t</span><span class="error">i</span><span class="error">m</span><span class="error">e</span>:        <span class="string"><span class="delimiter">"</span><span class="delimiter">"</span></span> 
        <span class="error">e</span><span class="error">t</span><span class="error">i</span><span class="error">m</span><span class="error">e</span>:        <span class="string"><span class="delimiter">"</span><span class="delimiter">"</span></span> 
        <span class="error">c</span><span class="error">o</span><span class="error">d</span><span class="error">e</span>:        <span class="string"><span class="delimiter">"</span><span class="content">121711216</span><span class="delimiter">"</span></span> 
        <span class="error">c</span><span class="error">r</span><span class="error">a</span><span class="error">i</span><span class="error">d</span>:        <span class="string"><span class="delimiter">"</span><span class="content">31114869</span><span class="delimiter">"</span></span> 
        <span class="error">r</span><span class="error">o</span><span class="error">u</span><span class="error">t</span><span class="error">e</span><span class="error">n</span><span class="error">a</span><span class="error">m</span><span class="error">e</span>:  <span class="string"><span class="delimiter">"</span><span class="content">上海-北京</span><span class="delimiter">"</span></span> 
    },
    <span class="error">e</span><span class="error">r</span><span class="error">r</span><span class="error">c</span><span class="error">o</span><span class="error">d</span><span class="error">e</span>:
    <span class="error">e</span><span class="error">r</span><span class="error">r</span><span class="error">m</span><span class="error">s</span>:
}
</span></code></pre><p></p>
</div>




<div id="wiki_add_attachment">
<p><a href="http://project.yoohoor.com:3000/projects/camel-gps/wiki/%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1" id="attach_files_link" onclick="$(&#39;#add_attachment_form&#39;).show(); return false;">新建文件</a></p>
<form accept-charset="UTF-8" action="http://project.yoohoor.com:3000/projects/camel-gps/wiki/%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1/add_attachment" enctype="multipart/form-data" id="add_attachment_form" method="post" style="display:none;"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"><input name="authenticity_token" type="hidden" value="/FBazXz3I8l24XufE8gkFCYKkYZgjOfRJcOjUJHB1ew="></div>
  <div class="box">
  <p><span id="attachments_fields">
</span>
<span class="add_attachment">
<input class="file_selector" data-description-placeholder="可选的描述" data-max-concurrent-uploads="2" data-max-file-size-message="该文件无法上传。超过文件大小限制 (5 MB)" data-max-file-size="5242880" data-upload-path="/uploads.js" multiple="multiple" name="attachments[dummy][file]" onchange="addInputFiles(this);" type="file">
(最大尺寸: 5 MB)
</span>

</p>
  </div>
<input name="commit" type="submit" value="新增">
<a href="http://project.yoohoor.com:3000/projects/camel-gps/wiki/%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1" onclick="$(&#39;#add_attachment_form&#39;).hide(); return false;">取消</a>
</form></div>




        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>载入中...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="http://www.redmine.org/">Redmine</a> © 2006-2013 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>



</body></html>